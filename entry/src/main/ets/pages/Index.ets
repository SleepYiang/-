import { promptAction, router } from '@kit.ArkUI'

@Entry
@Component
struct Index {
  @State IsShow: boolean = false
  @State IsAgreement: boolean = false

  build() {
    Row() {
      Column({ space: 50 }) {
        //å›¾ç‰‡å¸ƒå±€
        Row() {
          Image($r('app.media.logo'))
            .width(100)
            .height(100)
        }
        .margin(20)

        //æ–‡å­—å¸ƒå±€
        Column({ space: 10 }) {
          Text("æ¬¢è¿ä½¿ç”¨ä»£åŠæ¸…å•")
            .fontSize(25)
            .fontWeight(FontWeight.Bold)
          Text("ä»£åŠæ¸…å•è®©ç”Ÿæ´»ç®€å•ç‚¹~")
            .fontSize(25)
            .fontWeight(FontWeight.Bold)
        }
        .justifyContent(FlexAlign.Center)

        //æŒ‰é’®å¸ƒå±€
        Row() {
          Button("ç”±æ­¤ä½“éªŒğŸ‘‰")
            .type(ButtonType.Normal)//æŒ‰é”®æ ·å¼
            .stateEffect(true)//æŒ‰å‹çŠ¶æ€æ˜¾ç¤º
            .fontSize(25)
            .backgroundColor($r("app.color.button_background"))
            .height(70)
            .borderRadius(15)
            .onClick(() => {
              this.showDialog()
            })
        }
      }
      .width("100%")
    }
    .backgroundColor("#F6F6F6")
    .height("100%")
  }

  //è®¾ç½®å¼¹çª—æ¶ˆ
  showDialog() {
    if (this.IsShow==false){
      AlertDialog.show({
        title: ('æœåŠ¡åè®®å’Œéšç§æ”¿ç­–'),
        message: ('è¯·ä½ åŠ¡å¿…å®¡æ…é˜…è¯»ã€å……åˆ†ç†è§£æœåŠ¡åè®®â€å’Œâ€œéšç§æ”¿ç­–â€å„æ¡æ¬¾ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºï¼šä¸ºäº†å‘æ‚¨æä¾›å¾…åŠæé†’ç­‰æœåŠ¡ï¼Œæˆ‘ä»¬éœ€è¦å‘æ‚¨çš„ç³»ç»Ÿæ—¥å†æ·»åŠ å¾…åŠå†…å®¹ã€‚ä½ å¯ä»¥åœ¨ç³»ç»Ÿè®¾ç½®ä¸­ç®¡ç†å¯¹åº”æƒé™ã€‚ä½ å¯é˜…è¯»ã€ŠæœåŠ¡åè®®ã€‹å’Œã€Šéšç§æ”¿ç­–ã€‹äº†è§£è¯¦ç»†ä¿¡æ¯ã€‚å¦‚åŒæ„è¯·ç‚¹å‡»â€œåŒæ„â€å¼€å§‹æ¥å—æˆ‘ä»¬çš„æœåŠ¡ã€‚'),
        autoCancel: false, //ç‚¹å‡»å¼¹çª—å¤–æ˜¯å¦å–æ¶ˆå¼¹å±‚å†…å®¹
        alignment: DialogAlignment.Center, //å¼¹çª—ä½ç½®å±…ä¸­
        primaryButton: {
          value: ('æ‹’ç»'),
          action: () => {
            router.back()
          }
        },
        secondaryButton: {
          style: DialogButtonStyle.HIGHLIGHT,
          value: ('æ¥å—'),
          action: () => {
            this.IsShow=true
            promptAction.showToast({
              message:"welcome to TodoList"
            })
            //å»¶æ—¶è·³è½¬é¡µé¢
            setTimeout(()=>{
              router.replaceUrl({
                url:"pages/MainPage",
              })
            },2000)
          }
        }
      })
    }
  }
}